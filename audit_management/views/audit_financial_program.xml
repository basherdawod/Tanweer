<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="view_account_type_audit_form" model="ir.ui.view">
            <field name="name">audit.financial.program.form</field>
            <field name="model">audit.financial.program</field>
            <field name="arch" type="xml">
                <form string="Account Report">
                    <header>
                        <button name="action_create_audit_line" type="object"  string="Create" class="oe_highlight"/>
                    </header>
                    <sheet>
                        <group>
                            <group col="4">
                                <field name="name"/>
                                <field name="partner_id" invisible="1"/>
                            </group>
                            <group >
                                <field name="data_fis_years_end"/>
                                <field name="data_last_years_end"/>
                            </group>
                        </group>
                            <group>

                               <!--  <group>
                                    <field name="new1"/>
                                    <field name="new2" invisible="new1 in ('equaty','liability')" />
                                    <field name="new3"  invisible="new1 in ('asset','liability')"/>
                                    <field name="new4"  invisible="new1 in ('equaty','asset')"/>
                                </group> -->
                                <field name="level1"/>
                                    <group>
                                        <field name="level1" options="{'no_create': True , 'no_edit':True} "/>
                                        <field name="level_sub1" />
                                        <field name="audit_lines1_ids"/>
                                    </group>
                                    <group>
                                        <field name="level_sub2"/>
                                        <field name="audit_lines2_ids"/>
                                    </group>

                            </group>
                            <group>
                                <group>
                                        <field name="level2"  options="{'no_create': True , 'no_edit':True} "/>
                                        <field name="level2_sub1" />
                                        <field name="audit_lines3_ids"/>
                                    </group>
                                    <group>
                                        <field name="level2_sub2"/>
                                        <field name="audit_lines4_ids"/>
                                    </group>
                            </group>
                            <group>
                                <field name="level3" options="{'no_create': True , 'no_edit':True} "/>
                                <field name="audit_lines5_ids"/>
                            </group>
                           <notebook>
                           <page string="Levels">
                                <field name="audit_lines_ids" widget="section_and_note_one2many">
                                    <form>
                                        <field name="display_type" invisible="1"/>
                                        <field name="name" />
                                        <label for="name" string="Section Name (eg. Products, Services)" invisible="display_type != 'line_section'"/>
                                         <field name="level1_match"/>
                                        <field name="level_line_id" />
                                        <field name="type" />
                                        <field name="balance_this" />
                                        <field name="balance_last" />
                                    </form>
                                    <tree editable="bottom" decoration-info="level1_match == True" colors="green:level1_match == False;">
                                        <control>
                                            <create name="add_product_control" string="Add a Line" />
                                            <create name="add_section_control" string="Add a Section" context="{'default_display_type': 'line_section'}"/>
                                        </control>
                                         <field name="display_type" column_invisible="True"/>
                                        <field name="name" widget="section_and_note_text"/>
                                        <field name="level1_match" column_invisible="True"/>
                                        <field name="type" />
                                        <field name="level_line_id" />
                                        <field name="balance_this" />
                                        <field name="balance_last" />
                                    </tree>

                                </field>
                            </page>

                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids"/>
                        <field name="activity_ids"/>
                        <field name="message_ids" options="{'post_refresh': 'recipients'}"/>
                    </div>



                </form>
            </field>
        </record>

        <record id="view_account_type_audit_tree" model="ir.ui.view">
            <field name="name">audit.financial.program.tree</field>
            <field name="model">audit.financial.program</field>
            <field name="arch" type="xml">
                <tree string="Account Report">
                    <field name="name"/>
                </tree>
            </field>
        </record>

        <record id="view_account_type_audit_search" model="ir.ui.view">
            <field name="name">audit.financial.program.search</field>
            <field name="model">audit.financial.program</field>
            <field name="arch" type="xml">
                <search string="Account Report">
                    <field name="name" string="Account Report"/>

                </search>
            </field>
        </record>

        <record id="action_account_type_audit_tree" model="ir.actions.act_window">
            <field name="name">Financial Reports</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">audit.financial.program</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id"
                   ref="view_account_type_audit_search"/>
            <field name="view_id" ref="view_account_type_audit_tree"/>
        </record>


    </data>
</odoo>
