<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_contract_template">
        <t t-call="web.html_container">
            <t t-call="web.html_container">
                <t t-call="web.external_layout">
                    
                    <div class="page" style="padding:10px;">
                    <t t-foreach="docs" t-as="o">
                   
                        <td>
                            <div style="font-weight: bold; color: #000000; text-align: center;">
                                <h4 style="width: 100%; height: 30%;background-color: #d3d3d3;font-weight: bold; color: #000; text-align: center; padding: 10px ">
                                    VAT 201 Return - 
                                    إقرار ضريبة القيمة المضافة 
                                </h4>
                            </div>

                            <hr style="border: 2px solid black; width: 100%; margin: 10px 0;" />
                        <div style="width: 100%;text-align: right;margin-right:20px;direction:rtl;">
                            <br/><br/>
                            <div>الفترة من تاريخ: <t t-esc="o.date_from"/> إلى   <t t-esc="o.date_to"/></div>
                            <br/><br/>
                            <div>  TRN: <t t-esc="o.vat_registration_id.company_vat"/> </div>
                            <br/><br/>
                            <div>الاسم القانوني للكيان باللغة الإنجليزية: <t t-esc="o.legal_name"/></div>
                        </div>
                                <br/><br/>
                                <hr style="border: 2px solid black; width: 100%; margin: 10px 0;" />
                                <br/><br/>
                            <table border="2" style="width: 100%;padding: 10px;">
                                <thead style="background-color: #d3d3d3;">
                                    <tr>
                                        <th style="width: 40%; text-align:left;padding: 10px;">Description<br/>وصف</th>
                                        <th style="width: 20%; text-align:right;padding: 10px;">Amount(AED)<br/>المبلغ درهم</th>
                                        <th style="width: 20%;text-align:right;padding: 10px;">VAT Amount(AED)<br/>قسمة ضريبة القيمة المضافة (درهم)</th>
                                        <th style="width: 20%;text-align:right;padding: 10px;">Adjstment(AED)<br/>تسوية(درهم )</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-set="total_amount" t-value="0"/>
                                    <t t-set="total_taxamount" t-value="0"/>
                                    <t t-foreach="o.vat_sales_outputs" t-as="line">
                                        <t t-if="line.line_type == 'sale'">
                                            <t t-set="total_amount" t-value="total_amount + (line.amount or 0)"/>
                                            <t t-set="total_taxamount" t-value="total_taxamount + (line.taxamount or 0)"/>
                                            <tr>
                                                <td style="text-align: left; padding: 10px;">
                                                    <t t-esc="line.description"/>
                                                </td>
                                                <td style="text-align: right; padding: 10px;">
                                                    <t t-esc="line.amount"/>
                                                </td>
                                                <td style="text-align: right; padding: 10px;">
                                                    <t t-esc="line.taxamount"/>
                                                </td>
                                                <td style="text-align: right; padding: 10px;">
                                                    <t t-esc="adjustment"/>
                                                </td>
                                            </tr>

                                        </t>
                                    </t>
                                    <tr>
                                        <td></td>
                                        <td><t t-esc="total_amount" /></td>
                                        <td><t t-esc="total_taxamount"/></td>
                                        <td></td>
                                    </tr>
                                </tbody>
                            </table>
                            <br/><br/>
                           <div style="width: 100%; height: 30%;background-color: #d3d3d3;font-weight: bold; color: #000; text-align:left; padding: 10px ">
                                <span>VAT on Expenses and All Other outputs</span>
                                <br/>
                                <span >ضريبة القيمة المضافة علي المبيعات وجميع المخرجات الأخرى</span>
                            </div>
                             <table border="2" style="width: 100%; text-align: center;">
                                <thead>
                                    <tr>
                                        <th style="width: 40%;text-align:left;padding: 10px;">Description<br/>وصف</th>
                                        <th style="width: 20%;text-align:right;padding: 10px;">Amount(AED)<br/>المبلغ درهم</th>
                                        <th style="width: 20%;text-align:right;padding: 10px;">VAT Amount(AED)<br/>قسمة ضريبة القيمة المضافة (درهم)</th>
                                        <th style="width: 20%;text-align:right;padding: 10px;">Adjstment(AED)<br/>تسوية(درهم )</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-foreach="o.vat_sales_outputs" t-as="line">
                                        <t t-if="line.line_type == 'purchase'">
                                            <tr>
                                                <td style="text-align: left; padding: 10px;">
                                                    <t t-esc="line.description"/>
                                                </td>
                                                <td style="text-align: right; padding: 10px;">
                                                    <t t-esc="line.amount"/>
                                                </td>
                                                <td style="text-align: right; padding: 10px;">
                                                    <t t-esc="line.taxamount"/>
                                                </td>
                                                <td style="text-align: right; padding: 10px;">
                                                    <t t-esc="adjustment"/>
                                                </td>
                                            </tr>
                                        </t>
                                    </t>
                                </tbody>
                            </table>
                            <br/><br/><br/><br/><br/><br/>

                            <table border="2" style="width: 70%;">
                                <thead>
                                    <tr>
                                        <th style="width: 40%; text-align: left;padding: 10px;">Net VAT Due<br/>صافي ضريبة القيمة المضافة المستحقة</th>
                                        <th style="width: 20%;text-align:right;padding: 10px;">Amount(AED)<br/>المبلغ درهم</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-set="due" t-value="total_taxamount - total_amount"/>
                                    <tr>
                                        <td style=" text-align: left;padding: 10px;">12 Total Value of due tax for the period <br/> إجمالي قيمة الضريبة المستحقة عن الفترة بالدرهم</td>
                                        <td style=" text-align: right;padding: 10px;"><t t-esc="total_amount" /></td>
                                    </tr>
                                    <tr>
                                        <td style=" text-align: left;padding: 10px;">13 Total Value of recoverable0 tax for the period <br/> إجمالي قيمة الضريبة القابلة عن الفترة بالدرهم</td>
                                        <td style=" text-align: right;padding: 10px;"><t t-esc="total_amount" /></td>
                                    </tr>
                                    <tr>
                                        <td style=" text-align: left;padding: 10px;">14 Payable tax for the period<br/> 
                                        الضريبة مستحقة الدفع عن الفترة (دىرهمك)
                                        </td>
                                        <td style=" text-align: right;padding: 10px;"><t t-esc="('({})'.format(due) if 0 > due else due)"/></td>
                                    </tr>
                                </tbody>
                            </table>
                            </td>
                    </t>
                  </div>
            
                </t>
            </t>
        </t>
    </template>
</odoo>
